---
layout: single
title: "[expo] 토이 프로젝트를 진행하면서 깨달은 것들"
categories: expo
---

## UI/UX

- 색이 너무 많으니, 오히려 어지럽다.
  - 나는 색 감각이 많이 없으니 블랙&화이트에 포인트 컬러만 아주 조금 섞는다.
- 어줍지 않은 아이콘보다 간결한 텍스트가 낫다.
  - 뭔가를 대표하는 아이콘을 다 넣으려고 했는데, 난 디자이너가 없으니 그냥 깔끔한 텍스트를 쓰는게 나을때가 많다.
  - 예) 편집을 위한 아이콘을 찾는 것보다, 편집이라는 텍스트버튼을 만드는게 더 깔끔하고 직관적이었다.
- 구글 로그인 사용시, 생각보다 구글을 안사용하는 사람도 있다. 카카오 로그인이나 네이버 로그인을 제공하자. 외국에는 구글 + 애플 조합정도가 좋아 보인다.
  - 카카오로 하자. 카카오를 사용하면 나중에 카카오톡 메시지 전송도 할 수 있을 것 같다.
- scrollview 터치시 키보드가 사라지는데, 이걸 기본 FlatList로 바꾸면 키보드가 사라지지 않는다. 그런데 iphone에서는 키보드를 없앨 수 있는 방법이 없으니, 키보드가 사라지는 UX가 맞아보인다.
- ios는 이전 버튼이 없으니 어떤 모드에 진입시 취소나 이전으로 돌아갈 수 있는 버튼을 제공해줘야한다.

## Database

- User는 user 정보만 가지게 하고, 해당 user만 본인 정보를 건드릴 수 있어야 한다.
  - user에 다른 테이블과 관계되는 내용을 넣었더니, 다른 유저가 유저를 건드릴 일이 생겼고 로직이 꼬이는 현상이 발생했다.
  - 예) 다른 유저정보를 건드리려고 하니깐, 해당 유저정보로 onSnapShot이 작동해버림
- 개발용 Database가 필요하다. (출시 이후 개발 테스트 용 Database가 별도로 필요하다)
- 색인이 필요한 항목을 살펴보고 지정하자. -> 단일 필드는 [자동으로 색인에 포함](https://firebase.google.com/docs/firestore/query-data/indexing)됨.
- createdAt, updatedAt을 항목과 plan에 추가하자!
  - createdAt : map()으로 생성하는 컴포넌트는 고유키를 넣어줘야하는데, 이름만으로는 key가 겹치는 경우가 생기기 때문에, createdAt+{항목} 정도로 key를 정해주면 겹치는 일이 없을듯하다. + 정렬시에도 사용하면 좋을 것 같다.
  - updatedAt : 나중에 공유 기능으로 인해 오프라인 상황을 지원할 경우, 최종으로 된걸 반영하기 위해 필요해보임.
- firebase에서 supabase로 갈아탐
  - 쓰기 작업이 많이 겹치는 경우, transaction을 사용해야하는데 문서 전체에 lock을 거니 다 느려짐. 딱 필요한 항목만 분리해서 lock을 걸어야하는데, 그러면 read횟수가 너무 많이 늘어나고 그러면 firebase의 r/w 횟수로 인한 비용이 증가함.
  - firebase에 좋은 점 : google signin이 안드로이드 + ios 모두 지원. supabse는 아직까진(25년 5월) ios google signin을 지원하지 않음

## 마케팅

## 전략

- 내가 하고 싶은 모든 기능을 다 구현하려고 하지말자.
  - 최소한의 기능만 구현하고, 출시하고 나서 추가 기능을 더해간다.
  - 미루고 미루다 보면 지치기도하고, 끌어나갈 힘이 없어진다.
  - 처음 앱 출시할 때 비공개 테스트시 기본 기능만 가지고 검사를 맡자
- 사용자를 처음부터 너무 많이 모으려고 노력하지 말자.
  - 오히려 사용자가 적은 상태에서 앱의 안정화를 찾고 완성도를 높이는게 더 중요해 보인다.

## 코드 개발

- MUI 와 같은 개념이 미리 도이되어 있으면 편하다.
  - ThemedText, ThemedIcon등을 미리 먼저 만들어 놓고 진행하는게 편하다.
  - Colors 외에도 Size등도 미리 big, normal, small 정도로 나누어 진행해도 좋다.
- production 모드에서 에러가 발생했을 때, 구체적인 에러를 볼 수 있어야 한다.
- api함수는 예외를 따로 처리하지 않고, api를 호출하는 곳에서 예외를 처리한다!
  - 구체적인 에러를 출력하기 편하고, 코드도 간결해진다.
- index가 아닌 id를 통해 데이터를 다루자. index는 갑자기 누가 변경하는 일이 생길 수 있다.
