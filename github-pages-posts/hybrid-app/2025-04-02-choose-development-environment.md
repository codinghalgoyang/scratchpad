---
layout: single
title: "[하이브리드앱] 개발 환경 선정"
categories: hybrid-app
---

## 개발 환경 선정

> 결론 : expo(react-native) + vercel(next.js 호스팅) + supabase(backend)
> 대부분의 기능은 web에서 구현하고, native가 필요한 경우에만 expo를 사용한다!

#### 환경 선정시 고려한 점

- 사용자의 쉬운 접근성을 위해 모바일에서 앱형태를 띄고 있어야 함.
- ios, android에서 모두 사용 가능해야 함.
- 배너 형태의 광고 및 보상형 광고를 지원할 수 있어야 함.
- 개발환경에 지원이 잘 되어야 함. (커뮤니티 크기, 패키지 안전성등)
- 나에게 익숙한 react 기반 환경이어야 함.
- 추후 프로젝트 확장이 쉽게 가능해야 함.

#### 개발환경의 변경

처음 앱을 개발할 때 환경에서 한계점을 느끼고, 아래와 같이 개발환경 변경을 결심함.

- firebase => supabase 데이터베이스 변경
  - firebase의 경우, 크게 신경쓸 것 없이 필요한 기능을 구현하는게 가능했고, 동작이 잘 되었음. (보이지 않는 부분에서의 설정이 자동으로 되는게 많았음)
  - 그러나, NoSQL 데이터베이스의 단점과 read/write 횟수에 따른 가격 정책으로 인해 관계형 데이터 베이스를 지원하는 supabase로의 변경을 고려하게 됨.
- flutter => expo(react-native) => hybrid(expo + web view)으로의 변경
  - 앱형태 및 보상형 광고 지원(모바일용 광고인 Admob에서만 지원)을 위해서는 모바일 앱으로 개발이 필요했고, ios 및 android를 모두 지원하기 위해 cross platform을 고려함.
  - 1. 가장 맨 처음에는 flutter에 도전해봄
    - 익숙하지 않은 언어(dart)와 프로젝트 구조로 뭔가 하나 해보려고 했을 때, 어떻게 할지 감이 잘 오지 않음.
    - 개발 중에 갑자기 개발 툴이 비정상적으로 동작하는 경우가 있었음.
  - 2. 두 번째로 나에게 익숙한 react 지식을 써먹을 수 있고, 별도의 호스팅이 필요없는 expo(react-native)에 도전함.
    - ios, android 에 따라 다르게 동작하는 컴포넌트들이 존재함.
    - 잔버그들과 미지원 사항들이 은근히 존재한다는걸 깨달음.
    - supabase와의 연계가 완벽하지 않음
      - firebase의 경우, 사용에 큰 불편함이 없었으나, supabase의 경우, 모바일 앱보단 web 지원이 좀 더 잘되는 것처럼 느껴짐.
      - 예) ios에서 accessToken을 통한 supabase google-signin 미지원
      - 또, web에서는 문제 없으나, 앱에서 사용시 문제가 되는 경우가 있었음. OAuth와 같이 웹과 관련된 기능을 앱과 2차 통합해야하는 부분에서 생기는 문제라고 생각함.
      - firebase로의 회귀도 생각해봤으나, 위의 문제로 supabase 데이터 베이스를 사용하는게 추후 좋을 것 같음
- 3. supabase에서도 지원이 잘 될 것 같은 웹으로 대부분을 개발하되, 모바일 앱형태를 띄고 보상형 광고를 지원할 수 있는 하이브리드앱으로 변경
  - expo에서 웹뷰를 띄워놓고 대부분의 기능은 웹으로 구현하고, native의 기능이 필요할때만 expo를 사용한다.
  - 웹호스팅은 어떤 것으로 해야하나?
    - firebase의 경우, 정적페이지 웹호스팅의 지원용이라고 함.
    - next.js를 사용하는 경우, 보통 Vercel을 사용한다고 함.

#### Hybrid 앱의 장점과 단점

- 장점
  - 웹브라우저 상에서 동작하기 때문에 플랫폼(ios, android)별 동작의 차이가 없을 것임.
  - 빠른 개발 및 배포가 가능
  - 웹 기반 기능을 사용할 때 큰 어려움이 없을 것으로 기대함
    - 거대한 커뮤니티 (이미 많은 사람들의 이슈 사항들에 대한 자료가 많음)
    - supabase의 지원 안정성 기대
  - 웹의 역사와 규모로 인해 react-native 라이브러리 보다 훨씬 더 많은 웹 라이브러리들을 사용할 수 있음.
- 단점
  - 별도의 호스팅이 필요하다.
  - 앱이 가진것에 비해 무겁다.
  - 고사양 게임등의 뛰어난 퍼포먼스를 내기엔 무리가 있다.
  - 네이티브 앱의 고도 기능 사용은 어렵다.

#### 최종 개발 환경

- expo(react-native) + vercel(next.js 호스팅) + supabase(backend)
